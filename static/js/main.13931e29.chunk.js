(this.webpackJsonpstickers=this.webpackJsonpstickers||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n(0),c=n.n(i),r=n(34),s=n.n(r),o=(n(84),n(69)),l=n(12),d=(n(85),n(24)),u=n(17),j=n(11),m=n(20),h=n.n(m),b=n(35),f=n(63),O=n(21);n(101),n(88);O.a.apps.length||O.a.initializeApp({apiKey:"AIzaSyAS0MEPVqGh2WHDI0NnZ_reYLoQFadJwro",authDomain:"giftregistry-67cf5.firebaseapp.com",projectId:"giftregistry-67cf5",storageBucket:"giftregistry-67cf5.appspot.com",messagingSenderId:"432757216623",appId:"1:432757216623:web:c675babf6dd0fe76b2049a"}),O.a.auth();var p=O.a.firestore().collection("gifts"),g=O.a.firestore().collection("users"),x=function(e,t,n,a,i){O.a.auth().createUserWithEmailAndPassword(e,t).then((function(e){var t=e.user;p.doc(t.uid).set({items:{uid:t.uid}});var a={uid:t.uid,username:n,members:[]};g.doc(t.uid).set(a),O.a.auth().onAuthStateChanged((function(e){if(e){var t=e.uid;g.doc(t).get().then((function(e){e.data();i(t)}))}}))})).catch((function(e){a((function(t){return[].concat(Object(f.a)(t),[e.message])}))}))},v=function(e,t,n,a){O.a.auth().signInWithEmailAndPassword(e,t).then(function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.a.auth().onAuthStateChanged((function(e){if(e){var t=e.uid;g.doc(t).get().then((function(e){e.data();a(t)}))}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){n((function(t){return[].concat(Object(f.a)(t),[e.message])}))}))},w=function(e,t){O.a.auth().signOut().then((function(t){e(!1)})).catch((function(e){t((function(t){return[].concat(Object(f.a)(t),[e.message])}))}))},y=c.a.createContext(),C=function(e){var t=Object(i.useState)({email:"",password:"",userName:""}),n=Object(j.a)(t,2),c=n[0],r=n[1],s=Object(i.useState)([]),o=Object(j.a)(s,2),l=o[0],d=o[1],u=Object(i.useState)(null),m=Object(j.a)(u,2),h=m[0],b=m[1],f=Object(i.useState)(!1),p=Object(j.a)(f,2),C=p[0],k=p[1];O.a.auth().onAuthStateChanged((function(e){if(e){var t=e.uid;b(t),g.doc(t).get().then((function(e){e.data();k(!0)}))}}));var F=function(){r({email:"",password:"",userName:""}),d("")};return Object(a.jsx)(y.Provider,{value:{handleSignup:function(){x(c.email,c.password,c.userName,d,b),F()},inputs:c,setInputs:r,errors:l,handleLogIn:function(){v(c.email,c.password,d,b),F()},handleSignout:function(){b(null),w(k,d)},loggedIn:C,currentUserUID:h},children:e.children})},k=n(31),F=n(9),N=n(27);n(90);var S=function(e){var t=e.handleChange,n=e.authHandle,c=e.auth,r=e.setAuth,s=Object(i.useContext)(y),o=s.inputs,l=s.errors,d=s.loggedIn;return Object(a.jsxs)(F.a,{style:{fontSize:30},children:[Object(a.jsxs)(k.a,{children:[Object(a.jsxs)(F.a.Group,{className:"spacing",controlId:"formBasicEmail",children:[Object(a.jsx)(F.a.Label,{children:"Email address"}),Object(a.jsx)(F.a.Control,{value:o.email,name:"email",onChange:t,type:"email",placeholder:"Enter email",autoComplete:"email"}),Object(a.jsx)(F.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),"signup"===c&&Object(a.jsxs)(F.a.Group,{className:"spacing",controlId:"formBasicEmail",children:[Object(a.jsx)(F.a.Label,{children:"Username"}),Object(a.jsx)(F.a.Control,{value:o.userName,name:"userName",onChange:t,type:"text",placeholder:"Enter UserName"})]}),Object(a.jsxs)(F.a.Group,{className:"spacing",controlId:"formBasicPassword",children:[Object(a.jsx)(F.a.Label,{children:"Password"}),Object(a.jsx)(F.a.Control,{value:o.password,name:"password",onChange:t,type:"password",placeholder:"Password",autoComplete:"current-password"}),Object(a.jsx)(F.a.Text,{className:"text-muted",children:"Must be at least 6 characters"})]}),"signup"===c?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"btn-div margin-top",children:Object(a.jsx)("button",{onClick:n,type:"submit",children:"Sign-Up"})}),Object(a.jsx)("div",{className:"margin-top",children:Object(a.jsxs)("p",{children:["Already signed up?"," ",Object(a.jsx)("button",{type:"button",onClick:function(){return r("login")},children:"Log-In"})," ","instead!"]})})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"btn-div margin-top",children:Object(a.jsx)(N.a,{onClick:n,variant:"primary",type:"submit",children:"Log-In"})}),Object(a.jsxs)("div",{className:"margin-top",children:["Need to sign up?"," ",Object(a.jsx)("button",{type:"button",onClick:function(){return r("signup")},children:"Sign-Up"})," ","instead!"]})]})]}),d?"":l.length>0?l.map((function(e){return Object(a.jsx)("p",{style:{color:"red"},children:e})})):null]})},A=n(62),I=n(64);n.p;var L=function(){var e=Object(i.useState)("signup"),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(i.useContext)(y),s=r.handleSignup,o=r.setInputs,l=r.handleLogIn,m=r.handleSignout,h=r.loggedIn;return Object(a.jsx)("header",{children:Object(a.jsx)(A.a,{className:"accordion",defaultActiveKey:"1",children:Object(a.jsxs)(I.a,{children:[Object(a.jsx)(I.a.Header,{className:"accordion",children:Object(a.jsxs)(k.a,{className:"user-row",children:[!h&&Object(a.jsx)(A.a.Toggle,{id:"accordion-toggle",as:N.a,variant:"link",eventKey:"0",children:!h&&"Sign Up/Log-in"}),h&&Object(a.jsx)("button",{variant:"link",id:"signout-btn",onClick:m,children:"sign out"})]})}),Object(a.jsx)(A.a.Collapse,{eventKey:"0",children:Object(a.jsx)(I.a.Body,{children:h?Object(a.jsx)("p",{children:"Thanks for signing in!"}):Object(a.jsx)(S,{authHandle:function(e){e.preventDefault(),"signup"===n?s():"login"===n&&l()},auth:n,setAuth:c,handleChange:function(e){var t=e.target,n=t.name,a=t.value;o((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(d.a)({},n,a))}))}})})})]})})})},G=n(104),T=n(76),E=n(46),U=(n(94),n(68)),z=n(44),B=n.p+"static/media/bow.929bfbf4.png";n(95);var P=function(e){var t=e.item,n=e.whoseList,c=e.username,r=e.itemIdentifier,s=e.memberGiftList,o=Object(i.useState)(t.purchased),l=Object(j.a)(o,2),m=l[0],f=l[1],O=Object(i.useState)(!1),g=Object(j.a)(O,2),x=g[0],v=g[1],w=function(){var e=Object(b.a)(h.a.mark((function e(){var n,a,i,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in r)r.hasOwnProperty(a)&&r[a].itemName===t.itemName&&(n=a);return console.log(s),console.log(s),delete s.items[n],console.log(s),i=Object(u.a)({},s.items),c=p.doc(s.items.uid),e.next=9,c.set({items:i});case 9:y(),window.location.reload(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){return v(!1)};return Object(a.jsxs)("li",{children:[Object(a.jsx)(U.a,{src:B,style:{height:50}}),Object(a.jsx)("a",{style:{marginLeft:20,color:"white",fontSize:35},target:"_blank",rel:"noreferrer",href:t.link,children:t.itemName}),Object(a.jsx)("i",{onClick:function(){return v(!0)},class:"fas fa-trash",style:{marginLeft:40,fontSize:30}}),Object(a.jsx)("p",{style:{marginLeft:70},children:"member"===n&&Object(a.jsxs)(a.Fragment,{children:[t.privateToOwner&&Object(a.jsx)(F.a.Group,{className:"mb-3",controlId:"privateCheckbox",children:Object(a.jsx)(F.a.Check,{type:"checkbox",checked:!0,disabled:!0,label:"".concat(c," doesn't see this item!")})}),Object(a.jsx)(F.a.Group,{style:{fontSize:25},className:"mb-3",controlId:"purchaseCheckbox",children:Object(a.jsx)(F.a.Check,{type:"checkbox",size:"lg",name:"purchased",checked:m,onChange:function(e){var n;for(var a in f(e.target.checked),r)r.hasOwnProperty(a)&&r[a].itemName===t.itemName&&(n=a);var i=Object(u.a)(Object(u.a)({},s.items),{},Object(d.a)({},n,{itemName:t.itemName,link:t.link,privateToOwner:t.privateToOwner,purchased:e.target.checked}));p.doc(s.items.uid).set({items:i})},label:"purchased"})})]})}),Object(a.jsxs)(z.a,{show:x,onHide:y,children:[Object(a.jsx)(z.a.Header,{closeButton:!0,children:Object(a.jsx)(z.a.Title,{children:"Delete this item?"})}),Object(a.jsx)(z.a.Body,{children:"Are you sure you want to remove this item from this list?"}),Object(a.jsxs)(z.a.Footer,{children:[Object(a.jsx)(N.a,{variant:"secondary",onClick:y,children:"Close"}),Object(a.jsx)(N.a,{variant:"primary",onClick:w,children:"Delete item"})]})]})]})};var D=function(e){var t=e.giftInputs,n=e.handleChange,i=e.ownerAddGift,c=e.memberAddGift,r=e.whoseList,s=e.memberUID,o=e.handleRadioChange,l=e.memberGiftList;return Object(a.jsxs)(F.a,{style:{fontSize:30},children:[Object(a.jsxs)(F.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(a.jsx)(F.a.Label,{children:"Item Name"}),Object(a.jsx)(F.a.Control,{value:t.itemName,name:"itemName",placeholder:"Enter item name",onChange:n})]}),Object(a.jsxs)(F.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(a.jsx)(F.a.Label,{children:"Item Link"}),Object(a.jsx)(F.a.Control,{value:t.link,name:"link",placeholder:"optional",onChange:n})]}),"member"===r&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{children:"Should the recipent not be able to see this item?"}),Object(a.jsx)(F.a.Check,{inline:!0,label:"Yes",name:"privateToOwner",onChange:o,type:"radio",id:"true"}),Object(a.jsx)(F.a.Check,{inline:!0,label:"No",name:"privateToOwner",onChange:o,type:"radio",id:"false"}),Object(a.jsx)("p",{style:{marginTop:30},children:"Have you purchased this gift already?"}),Object(a.jsx)(F.a.Check,{inline:!0,label:"Yes",name:"purchased",type:"radio",onChange:o,id:"true"}),Object(a.jsx)(F.a.Check,{inline:!0,label:"No",name:"purchased",onChange:o,type:"radio",id:"false"}),Object(a.jsx)("p",{style:{marginBottom:30}})]}),Object(a.jsx)(N.a,{onClick:"member"===r?function(){return c(s,l)}:i,variant:"dark",children:"Submit"})]})},R=n(71);var H=function(e){var t=e.FFUsernameInput,n=e.handleFFChange,i=e.addFF,c=(e.FF,e.showAddFFAlert),r=e.setShowAddFFAlert;return Object(a.jsxs)(F.a,{style:{fontSize:30},children:[Object(a.jsxs)(F.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(a.jsx)(F.a.Label,{children:"Username"}),Object(a.jsx)(F.a.Control,{value:t,name:"username",placeholder:"Enter your loved one's username!",onChange:n})]}),Object(a.jsx)(N.a,{onClick:i,variant:"dark",children:"Submit"}),c&&Object(a.jsxs)(R.a,{variant:"danger",onClose:function(){return r(!1)},dismissible:!0,children:[Object(a.jsx)(R.a.Heading,{children:"There's no one with that username!"}),Object(a.jsx)("p",{children:"Check your spelling and try again!"})]})]})},K=n(78),q=n(72);n(96);var J=function(e){var t=e.uid,n=e.username,c=e.giftInputs,r=e.handleChange,s=e.ownerAddGift,o=e.memberAddGift,l=e.handleRadioChange,d=Object(i.useState)({items:null}),u=Object(j.a)(d,2),m=u[0],h=u[1],b=Object(i.useState)(!1),f=Object(j.a)(b,2),O=f[0],g=f[1];return Object(i.useEffect)((function(){p.where("items.uid","==",t).get().then((function(e){e.forEach((function(e){h(e.data())}))})).catch((function(e){console.log("Error getting documents: ",e)}))}),[]),Object(a.jsxs)("div",{children:[m.items&&null!==m.items.uid&&Object.keys(m.items).map((function(e,t){return Object(a.jsx)(a.Fragment,{children:"string"!==typeof m.items[e]&&Object(a.jsx)("ul",{id:t,children:Object(a.jsx)(P,{whoseList:"member",item:m.items[e],username:n,itemIdentifier:m.items,memberGiftList:m})})})})),Object(a.jsxs)(k.a,{style:{marginLeft:0,marginRight:0},children:[Object(a.jsx)("h3",{style:{fontSize:40},children:"Add an item"}),O?Object(a.jsx)("i",{onClick:function(){g(!1)},style:{marginLeft:10,marginTop:10},class:"fas fa-minus-square"}):Object(a.jsx)("i",{onClick:function(){g(!0)},style:{marginLeft:10,marginTop:10},className:"fas fa-plus-square"})]}),O&&Object(a.jsx)(D,{giftInputs:c,handleChange:r,ownerAddGift:s,memberAddGift:o,whoseList:"member",memberUID:t,handleRadioChange:l,memberGiftList:m})]})};var M=function(e){var t=e.FFUsernameInput,n=e.handleFFChange,i=e.addFF,c=e.FF,r=e.giftInputs,s=e.handleChange,o=e.ownerAddGift,l=e.memberAddGift,d=e.handleRadioChange,u=e.showAddFFAlert,j=e.setShowAddFFAlert;return Object(a.jsxs)(K.a,{defaultActiveKey:"addNew",id:"uncontrolled-tab-example",className:"mb-3",children:[c.length>0&&c.map((function(e){return Object(a.jsx)(q.a,{eventKey:e.username,title:e.username,children:Object(a.jsx)(J,{uid:e.uid,username:e.username,giftInputs:r,handleChange:s,ownerAddGift:o,memberAddGift:l,handleRadioChange:d})})})),Object(a.jsx)(q.a,{eventKey:"addNew",title:"Add New",children:Object(a.jsx)(H,{FFUsernameInput:t,handleFFChange:n,addFF:i,showAddFFAlert:u,setShowAddFFAlert:j})})]})};var W=function(){var e=Object(i.useContext)(y).currentUserUID,t=Object(i.useState)({items:null}),n=Object(j.a)(t,2),c=n[0],r=n[1],s=Object(i.useState)({itemName:"",link:"",privateToOwner:!1,purchased:!1}),o=Object(j.a)(s,2),l=o[0],m=o[1],f=Object(i.useState)(""),O=Object(j.a)(f,2),x=O[0],v=O[1],w=Object(i.useState)(e),C=Object(j.a)(w,2),F=C[0],N=C[1],S=Object(i.useState)(!1),A=Object(j.a)(S,2),I=A[0],L=A[1],U=Object(i.useState)([]),z=Object(j.a)(U,2),B=z[0],R=z[1],H=Object(i.useState)(),K=Object(j.a)(H,2),q=K[0],J=K[1],W=Object(i.useState)(!1),Y=Object(j.a)(W,2),_=Y[0],Q=Y[1],V=function(e){var t=e.target,n=t.name,a=t.value;m((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(d.a)({},n,a))}))},Z=function(){var t=Object(b.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:p.where("items.uid","==",e).get().then((function(e){e.forEach((function(e){r(e.data())}))})).catch((function(e){console.log("Error getting documents: ",e)}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),X=function(){var t=Object(b.a)(h.a.mark((function t(){var n,a,i,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(G.a)(),a="item".concat(n),i=Object(u.a)(Object(u.a)({},c.items),{},Object(d.a)({},a,{itemName:l.itemName,link:l.link,privateToOwner:!1,purchased:!1})),r((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(d.a)({},a,{itemName:l.itemName,link:l.link,privateToOwner:!1,purchased:!1}))})),s=p.doc(e),t.next=7,s.set({items:i});case 7:window.location.reload(!1),L(!1);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),$=function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a,i,c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(G.a)(),i="item".concat(a),c=Object(u.a)(Object(u.a)({},n.items),{},Object(d.a)({},i,{itemName:l.itemName,link:l.link,privateToOwner:l.privateToOwner,purchased:l.purchased})),r=p.doc(t),e.next=6,r.set({items:c});case 6:L(!1),window.location.reload(!1);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){null!==e&&(r({items:{uid:e}}),N(e),r(Z()),g.where("uid","==",e).get().then((function(e){e.forEach((function(e){J(e.data()),R(e.data().members)}))})).catch((function(e){console.log("Error getting documents: ",e)})))}),[e,F]),Object(a.jsx)(T.a,{className:"containerMargin",fluid:!0,children:Object(a.jsxs)(k.a,{style:{marginLeft:0,marginRight:0},children:[Object(a.jsxs)(E.a,{md:5,className:"lists",children:[Object(a.jsx)("h2",{style:{fontSize:45},children:"My List"}),c.items&&null!==c.items.uid&&Object.keys(c.items).map((function(e,t){return Object(a.jsx)(a.Fragment,{children:"string"!==typeof c.items[e]&&!1===c.items[e].privateToOwner&&Object(a.jsx)("ul",{id:t,children:Object(a.jsx)(P,{item:c.items[e],whoseList:"owner",username:"placeholder",itemIdentifier:c.items,memberGiftList:c})})})})),Object(a.jsxs)(k.a,{style:{marginLeft:0,marginRight:0},children:[Object(a.jsx)("h3",{style:{fontSize:40},children:"Add an item"}),I?Object(a.jsx)("i",{onClick:function(){L(!1)},style:{marginLeft:10,marginTop:10},class:"fas fa-minus-square"}):Object(a.jsx)("i",{onClick:function(){L(!0)},style:{marginLeft:10,marginTop:10},className:"fas fa-plus-square"})]}),I&&Object(a.jsx)(D,{giftInputs:l,handleChange:V,ownerAddGift:X,memberAddGift:$,whoseList:"owner"})]}),Object(a.jsxs)(E.a,{md:5,className:"lists",children:[Object(a.jsx)("h2",{style:{fontSize:45},children:"Friends and Family"}),Object(a.jsx)(M,{FFUsernameInput:x,handleFFChange:function(e){var t=e.target,n=(t.name,t.value);v(n)},addFF:function(){g.where("username","==",x).get().then((function(t){console.log(t.docs.length),t.docs.length||Q(!0),t.forEach((function(t){var n=B;n.push(t.data());var a={members:n,uid:q.uid,username:q.username};R(n),J(a),g.doc(e).set(a),v("")}))})).catch((function(e){console.log("Error getting documents: ",e)}))},FF:B,giftInputs:l,handleChange:V,ownerAddGift:X,memberAddGift:$,handleRadioChange:function(e){var t=e.target,n=t.name,a=t.id;m((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(d.a)({},n,JSON.parse(a)))}))},showAddFFAlert:_,setShowAddFFAlert:Q})]})]})})};var Y=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)(o.a,{basename:"/",children:[Object(a.jsx)(L,{}),Object(a.jsx)("div",{children:Object(a.jsx)(l.a,{exact:!0,path:"/",component:W})})]})})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,105)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),c(e),r(e)}))};s.a.render(Object(a.jsx)(C,{children:Object(a.jsx)(Y,{})}),document.getElementById("root")),_()},84:function(e,t,n){},90:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){}},[[100,1,2]]]);
//# sourceMappingURL=main.13931e29.chunk.js.map